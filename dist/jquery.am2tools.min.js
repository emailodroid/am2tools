/*
 *  am2tools - v0.0.1
 *  Bunch of jquery helpers (tabs, accordions, etc).
 *  http://am2studio.com
 *
 *  Made by Tomislav Bukal
 *  Under MIT License
 */
!function(a){"use strict";function b(b,e){this.element=b,this.settings=a.extend({},d,e),this._defaults=d,this._name=c,this.init()}var c="am2tools",d={};a.extend(b.prototype,{init:function(){function b(b){var c=a(b.data.element),d=a(b.currentTarget).attr("data-tab"),f=c.children(".am2panes").innerHeight();e.setTab(c,d,e.getPaneHeight(c,d));var g=a(c).parents(".am2tabs");if(g.length)for(var h=e.getPaneHeight(c,d),i=0,j=0;j<g.length;j++){var k=a(g[j]).children(".am2panes").children(".am2pane.active").attr("data-tab"),l=e.getPaneHeight(g[j],k);e.setTab(g[j],k,l+h-f-i),h+=e.getPaneHeight(g[j],k),i=f,f=a(g[j]).children(".am2panes").innerHeight()}}var c,d,e=this;a(this.element).attr("data-am2","true"),c=a(this.element).attr("data-active"),c||(c=1),a(this.element).children(".am2headings").children("a").click({element:this.element},b),d=this.getPaneHeight(this.element,c),this.setTab(this.element,c,d);var f=a(this.element).parents(".am2tabs");if(f.length){var g=a(this.element).parents(".am2pane");if(a(g[0]).hasClass("active"))for(var h=this.getPaneHeight(this.element,c),i=0;i<f.length;i++)if(a(g[i]).hasClass("active")){var j=a(f[i]).children(".am2panes").children(".am2pane.active").attr("data-tab"),k=this.getPaneHeight(f[i],j);this.setTab(f[i],j,k+h),h+=this.getPaneHeight(f[i],j)}}},setTab:function(b,c,d){c||(c=1),a(b).children(".am2headings").children(".active").removeClass("active"),a(b).children(".am2panes").children(".active").removeClass("active"),a(b).children(".am2headings").children("a[data-tab='"+c+"']").addClass("active"),a(b).children(".am2panes").children(".am2pane[data-tab='"+c+"']").addClass("active"),a(b).children(".am2panes").css("height",d),a(b).children(".am2panes").attr("data-height",d)},getPaneHeight:function(b,c){return a(b).children(".am2panes").children(".am2pane[data-tab='"+c+"']").innerHeight()}}),a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document);